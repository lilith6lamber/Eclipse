!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.lightbox=t(e.jQuery)}(this,function(g){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=g.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},e.prototype.option=function(e){g.extend(this.options,e)},e.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},e.prototype.init=function(){var e=this;g(document).ready(function(){e.enable(),e.build()})},e.prototype.enable=function(){var t=this;g("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return t.start(g(e.currentTarget)),!1})},e.prototype.build=function(){var t;0<g("#lightbox").length||(t=this,g('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(g("body")),this.$lightbox=g("#lightbox"),this.$overlay=g("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(e){"lightbox"===g(e.target).attr("id")&&t.end()}),this.$outerContainer.on("click",function(e){return"lightbox"===g(e.target).attr("id")&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(e){3===e.which&&(t.$nav.css("pointer-events","none"),t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1}))},e.prototype.start=function(e){function t(e){i.album.push({alt:e.attr("data-alt"),link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var i=this,n=g(window);n.on("resize",g.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var a,o=0,s=e.attr("data-lightbox");if(s){a=g(e.prop("tagName")+'[data-lightbox="'+s+'"]');for(var l=0;l<a.length;l=++l)t(g(a[l])),a[l]===e[0]&&(o=l)}else if("lightbox"===e.attr("rel"))t(e);else{a=g(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var r=0;r<a.length;r=++r)t(g(a[r])),a[r]===e[0]&&(o=r)}var d=n.scrollTop()+this.options.positionFromTop,h=n.scrollLeft();this.$lightbox.css({top:d+"px",left:h+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&g("body").addClass("lb-disable-scrolling"),this.changeImage(o)},e.prototype.changeImage=function(s){var l=this,r=this.album[s].link,d=r.split(".").slice(-1)[0],h=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),g(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var c=new Image;c.onload=function(){var e,t,i,n,a,o;h.attr({alt:l.album[s].alt,src:r}),g(c),h.width(c.width),h.height(c.height),o=g(window).width(),a=g(window).height(),n=o-l.containerPadding.left-l.containerPadding.right-l.imageBorderWidth.left-l.imageBorderWidth.right-20,i=a-l.containerPadding.top-l.containerPadding.bottom-l.imageBorderWidth.top-l.imageBorderWidth.bottom-l.options.positionFromTop-70,"svg"===d&&(0!==c.width&&0!==c.height||(h.width(n),h.height(i))),l.options.fitImagesInViewport?(l.options.maxWidth&&l.options.maxWidth<n&&(n=l.options.maxWidth),l.options.maxHeight&&l.options.maxHeight<i&&(i=l.options.maxHeight)):(n=l.options.maxWidth||c.width||n,i=l.options.maxHeight||c.height||i),(c.width>n||c.height>i)&&(c.width/n>c.height/i?(t=n,e=parseInt(c.height/(c.width/t),10)):(e=i,t=parseInt(c.width/(c.height/e),10)),h.width(t),h.height(e)),l.sizeContainer(h.width(),h.height())},c.src=this.album[s].link,this.currentImageIndex=s},e.prototype.sizeOverlay=function(){var e=this;setTimeout(function(){e.$overlay.width(g(document).width()).height(g(document).height())},0)},e.prototype.sizeContainer=function(e,t){function i(){n.$lightbox.find(".lb-dataContainer").width(s),n.$lightbox.find(".lb-prevLink").height(l),n.$lightbox.find(".lb-nextLink").height(l),n.$overlay.focus(),n.showImage()}var n=this,a=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),s=e+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,l=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;a!==s||o!==l?this.$outerContainer.animate({width:s,height:l},this.options.resizeDuration,"swing",function(){i()}):i()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),1<this.album.length&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e,t,i=this;void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&(e=this.$lightbox.find(".lb-caption"),this.options.sanitizeTitle?e.text(this.album[this.currentImageIndex].title):e.html(this.album[this.currentImageIndex].title),e.fadeIn("fast")),1<this.album.length&&this.options.showImageNumberLabel?(t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(t).fadeIn("fast")):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)},e.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",g.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",g.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},e.prototype.keyboardAction=function(e){var t=e.keyCode;27===t?(e.stopPropagation(),this.end()):37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1):39===t&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),g(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&g("body").removeClass("lb-disable-scrolling")},new e}),function(C){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,t){},onAfterSlide:function(e,t){},onBeforeNextSlide:function(e,t){},onBeforePrevSlide:function(e,t){}};C.fn.lightSlider=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){C(this).lightSlider(e)}),this;var i={},h=C.extend(!0,{},n,e),a={},c=this;i.$el=this,"fade"===h.mode&&(h.vertical=!1);var d=c.children(),o=C(window).width(),s=null,l=0,g=0,t=!1,u=0,f="",p=0,m=!0===h.vertical?"height":"width",v=!0===h.vertical?"margin-bottom":"margin-right",b=0,x=0,S=0,I=0,r=null,y="ontouchstart"in document.documentElement,w={chbreakpoint:function(){if(o=C(window).width(),h.responsive.length){var e;if(!1===h.autoWidth&&(e=h.item),o<h.responsive[0].breakpoint)for(var t=0;t<h.responsive.length;t++)o<h.responsive[t].breakpoint&&(h.responsive[t].breakpoint,s=h.responsive[t]);if(null!=s)for(var i in s.settings)s.settings.hasOwnProperty(i)&&(void 0!==a[i]&&null!==a[i]||(a[i]=h[i]),h[i]=s.settings[i]);if(!C.isEmptyObject(a)&&o>h.responsive[0].breakpoint)for(var n in a)a.hasOwnProperty(n)&&(h[n]=a[n]);!1===h.autoWidth&&0<b&&0<S&&e!==h.item&&(p=Math.round(b/((S+h.slideMargin)*h.slideMove)))}},calSW:function(){!1===h.autoWidth&&(S=(u-(h.item*h.slideMargin-h.slideMargin))/h.item)},calWidth:function(e){var t=!0===e?f.find(".lslide").length:d.length;if(!1===h.autoWidth)g=t*(S+h.slideMargin);else for(var i=g=0;i<t;i++)g+=parseInt(d.eq(i).width())+h.slideMargin;return g}};return(i={doCss:function(){return!(!h.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,i=0;i<e.length;i++)if(e[i]in t.style)return!0}())},keyPress:function(){h.keyPress&&C(document).on("keyup.lightslider",function(e){C(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?c.goToPrevSlide():39===e.keyCode&&c.goToNextSlide())})},controls:function(){h.controls&&(c.after('<div class="lSAction"><a class="lSPrev">'+h.prevHtml+'</a><a class="lSNext">'+h.nextHtml+"</a></div>"),h.autoWidth?w.calWidth(!1)<u&&f.find(".lSAction").hide():l<=h.item&&f.find(".lSAction").hide(),f.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,"lSPrev"===C(this).attr("class")?c.goToPrevSlide():c.goToNextSlide(),!1}))},initialStyle:function(){var r=this;"fade"===h.mode&&(h.autoWidth=!1,h.slideEndAnimation=!1),h.auto&&(h.slideEndAnimation=!1),h.autoWidth&&(h.slideMove=1,h.item=1),h.loop&&(h.slideMove=1,h.freeMove=!1),h.onBeforeStart.call(this,c),w.chbreakpoint(),c.addClass("lightSlider").wrap('<div class="lSSlideOuter '+h.addClass+'"><div class="lSSlideWrapper"></div></div>'),f=c.parent(".lSSlideWrapper"),!0===h.rtl&&f.parent().addClass("lSrtl"),h.vertical?(f.parent().addClass("vertical"),u=h.verticalHeight,f.css("height",u+"px")):u=c.outerWidth(),d.addClass("lslide"),!0===h.loop&&"slide"===h.mode&&(w.calSW(),w.clone=function(){if(w.calWidth(!0)>u){for(var e=0,t=0,i=0;i<d.length&&(t++,!((e+=parseInt(c.find(".lslide").eq(i).width())+h.slideMargin)>=u+h.slideMargin));i++);var n=!0===h.autoWidth?t:h.item;if(n<c.find(".clone.left").length)for(var a=0;a<c.find(".clone.left").length-n;a++)d.eq(a).remove();if(n<c.find(".clone.right").length)for(var o=d.length-1;o>d.length-1-c.find(".clone.right").length;o--)p--,d.eq(o).remove();for(var s=c.find(".clone.right").length;s<n;s++)c.find(".lslide").eq(s).clone().removeClass("lslide").addClass("clone right").appendTo(c),p++;for(var l=c.find(".lslide").length-c.find(".clone.left").length;l>c.find(".lslide").length-n;l--)c.find(".lslide").eq(l-1).clone().removeClass("lslide").addClass("clone left").prependTo(c);d=c.children()}else d.hasClass("clone")&&(c.find(".clone").remove(),r.move(c,0))},w.clone()),w.sSW=function(){l=d.length,!0===h.rtl&&!1===h.vertical&&(v="margin-left"),!1===h.autoWidth&&d.css(m,S+"px"),d.css(v,h.slideMargin+"px"),g=w.calWidth(!1),c.css(m,g+"px"),!0===h.loop&&"slide"===h.mode&&!1===t&&(p=c.find(".clone.left").length)},w.calL=function(){d=c.children(),l=d.length},this.doCss()&&f.addClass("usingCss"),w.calL(),"slide"===h.mode?(w.calSW(),w.sSW(),!0===h.loop&&(b=r.slideValue(),this.move(c,b)),!1===h.vertical&&this.setHeight(c,!1)):(this.setHeight(c,!0),c.addClass("lSFade"),this.doCss()||(d.fadeOut(0),d.eq(p).fadeIn(0))),!0===h.loop&&"slide"===h.mode?d.eq(p).addClass("active"):d.first().addClass("active")},pager:function(){var e,t,d=this;w.createPager=function(){I=(u-(h.thumbItem*h.thumbMargin-h.thumbMargin))/h.thumbItem;for(var e=f.find(".lslide"),t=f.find(".lslide").length,i=0,n="",a=0,i=0;i<t;i++){"slide"===h.mode&&(h.autoWidth?a+=(parseInt(e.eq(i).width())+h.slideMargin)*h.slideMove:a=i*(S+h.slideMargin)*h.slideMove);var o=e.eq(i*h.slideMove).attr("data-thumb");if(n+=!0===h.gallery?'<li style="width:100%;'+m+":"+I+"px;"+v+":"+h.thumbMargin+'px"><a href="#"><img src="'+o+'" /></a></li>':'<li><a href="#">'+(i+1)+"</a></li>","slide"===h.mode&&a>=g-u-h.slideMargin){i+=1;var s=2;h.autoWidth&&(n+='<li><a href="#">'+(i+1)+"</a></li>",s=1),i<s?(n=null,f.parent().addClass("noPager")):f.parent().removeClass("noPager");break}}var l=f.parent();l.find(".lSPager").html(n),!0===h.gallery&&(!0===h.vertical&&l.find(".lSPager").css("width",h.vThumbWidth+"px"),x=i*(h.thumbMargin+I)+.5,l.find(".lSPager").css({property:x+"px","transition-duration":h.speed+"ms"}),!0===h.vertical&&f.parent().css("padding-right",h.vThumbWidth+h.galleryMargin+"px"),l.find(".lSPager").css(m,x+"px"));var r=l.find(".lSPager").find("li");r.first().addClass("active"),r.on("click",function(){return!0===h.loop&&"slide"===h.mode?p+=r.index(this)-l.find(".lSPager").find("li.active").index():p=r.index(this),c.mode(!1),!0===h.gallery&&d.slideThumb(),!1})},h.pager&&(e="lSpg",h.gallery&&(e="lSGallery"),f.after('<ul class="lSPager '+e+'"></ul>'),t=h.vertical?"margin-left":"margin-top",f.parent().find(".lSPager").css(t,h.galleryMargin+"px"),w.createPager()),setTimeout(function(){w.init()},0)},setHeight:function(n,a){function e(){var e=o.outerHeight(),t=0,i=e;a&&(e=0,t=100*i/u),n.css({height:e+"px","padding-bottom":t+"%"})}var o=null,t=this,o=h.loop?n.children(".lslide ").first():n.children().first();e(),o.find("img").length?o.find("img")[0].complete?(e(),r||t.auto()):o.find("img").on("load",function(){setTimeout(function(){e(),r||t.auto()},100)}):r||t.auto()},active:function(e,t){this.doCss()&&"fade"===h.mode&&f.addClass("on");var i,n,a=0;p*h.slideMove<l?(e.removeClass("active"),this.doCss()||"fade"!==h.mode||!1!==t||e.fadeOut(h.speed),a=!0===t?p:p*h.slideMove,!0===t&&(n=(i=e.length)-1,i<=a+1&&(a=n)),!0===h.loop&&"slide"===h.mode&&(a=!0===t?p-c.find(".clone.left").length:p*h.slideMove,!0===t&&(n=(i=e.length)-1,a+1===i?a=n:i<a+1&&(a=0))),this.doCss()||"fade"!==h.mode||!1!==t||e.eq(a).fadeIn(h.speed),e.eq(a).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==h.mode||!1!==t||(e.fadeOut(h.speed),e.eq(a).fadeIn(h.speed)))},move:function(e,t){!0===h.rtl&&(t=-t),this.doCss()?e.css(!0===h.vertical?{transform:"translate3d(0px, "+-t+"px, 0px)","-webkit-transform":"translate3d(0px, "+-t+"px, 0px)"}:{transform:"translate3d("+-t+"px, 0px, 0px)","-webkit-transform":"translate3d("+-t+"px, 0px, 0px)"}):!0===h.vertical?e.css("position","relative").animate({top:-t+"px"},h.speed,h.easing):e.css("position","relative").animate({left:-t+"px"},h.speed,h.easing);var i=f.parent().find(".lSPager").find("li");this.active(i,!0)},fade:function(){this.active(d,!1);var e=f.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;w.calSlide=function(){u<g&&(b=e.slideValue(),e.active(d,!1),b>g-u-h.slideMargin?b=g-u-h.slideMargin:b<0&&(b=0),e.move(c,b),!0===h.loop&&"slide"===h.mode&&(p>=l-c.find(".clone.left").length/h.slideMove&&e.resetSlide(c.find(".clone.left").length),0===p&&e.resetSlide(f.find(".lslide").length)))},w.calSlide()},resetSlide:function(e){var t=this;f.find(".lSAction a").addClass("disabled"),setTimeout(function(){p=e,f.css("transition-duration","0ms"),b=t.slideValue(),t.active(d,!1),i.move(c,b),setTimeout(function(){f.css("transition-duration",h.speed+"ms"),f.find(".lSAction a").removeClass("disabled")},50)},h.speed+100)},slideValue:function(){var e=0;if(!1===h.autoWidth)e=p*(S+h.slideMargin)*h.slideMove;else for(var t=e=0;t<p;t++)e+=parseInt(d.eq(t).width())+h.slideMargin;return e},slideThumb:function(){var e;switch(h.currentPagerPosition){case"left":e=0;break;case"middle":e=u/2-I/2;break;case"right":e=u-I}var t=p-c.find(".clone.left").length,i=f.parent().find(".lSPager");"slide"===h.mode&&!0===h.loop&&(t>=i.children().length?t=0:t<0&&(t=i.children().length));var n=t*(I+h.thumbMargin)-e;x<n+u&&(n=x-u-h.thumbMargin),n<0&&(n=0),this.move(i,n)},auto:function(){h.auto&&(clearInterval(r),r=setInterval(function(){c.goToNextSlide()},h.pause))},pauseOnHover:function(){var e=this;h.auto&&h.pauseOnHover&&(f.on("mouseenter",function(){C(this).addClass("ls-hover"),c.pause(),h.auto=!0}),f.on("mouseleave",function(){C(this).removeClass("ls-hover"),f.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,t){var i,n;f.css("transition-duration","0ms"),"slide"===h.mode&&((n=b-(e-t))>=g-u-h.slideMargin?n=!1===h.freeMove?g-u-h.slideMargin:(i=g-u-h.slideMargin)+(n-i)/5:n<0&&(!1===h.freeMove?n=0:n/=5),this.move(c,n))},touchEnd:function(e){var o,t,i;f.css("transition-duration",h.speed+"ms"),"slide"===h.mode?(t=!(o=!1),(b-=e)>g-u-h.slideMargin?(b=g-u-h.slideMargin,!1===h.autoWidth&&(o=!0)):b<0&&(b=0),i=function(e){var t=0;if(o||e&&(t=1),h.autoWidth)for(var i=0,n=0;n<d.length&&(i+=parseInt(d.eq(n).width())+h.slideMargin,p=n+t,!(b<=i));n++);else{var a=b/((S+h.slideMargin)*h.slideMove);p=parseInt(a)+t,b>=g-u-h.slideMargin&&a%1!=0&&p++}},e>=h.swipeThreshold?(i(!1),t=!1):e<=-h.swipeThreshold&&(i(!0),t=!1),c.mode(t),this.slideThumb()):e>=h.swipeThreshold?c.goToPrevSlide():e<=-h.swipeThreshold&&c.goToNextSlide()},enableDrag:function(){var i,n,a,o=this;y||(n=i=0,a=!1,f.find(".lightSlider").addClass("lsGrab"),f.on("mousedown",function(e){return!(g<u&&0!==g)&&void("lSPrev"!==C(e.target).attr("class")&&"lSNext"!==C(e.target).attr("class")&&(i=!0===h.vertical?e.pageY:e.pageX,a=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,f.scrollLeft+=1,--f.scrollLeft,f.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(r)))}),C(window).on("mousemove",function(e){a&&(n=!0===h.vertical?e.pageY:e.pageX,o.touchMove(n,i))}),C(window).on("mouseup",function(e){var t;a&&(f.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),t=(n=!(a=!1)===h.vertical?e.pageY:e.pageX)-i,Math.abs(t)>=h.swipeThreshold&&C(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),C(window).off("click.ls")}),o.touchEnd(t))}))},enableTouch:function(){var a,o,s=this;y&&(a={},o={},f.on("touchstart",function(e){o=e.originalEvent.targetTouches[0],a.pageX=e.originalEvent.targetTouches[0].pageX,a.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(r)}),f.on("touchmove",function(e){if(g<u&&0!==g)return!1;var t=e.originalEvent;o=t.targetTouches[0];var i=Math.abs(o.pageX-a.pageX),n=Math.abs(o.pageY-a.pageY);!0===h.vertical?(i<3*n&&e.preventDefault(),s.touchMove(o.pageY,a.pageY)):(n<3*i&&e.preventDefault(),s.touchMove(o.pageX,a.pageX))}),f.on("touchend",function(){return!(g<u&&0!==g)&&(e=!0===h.vertical?o.pageY-a.pageY:o.pageX-a.pageX,void s.touchEnd(e));var e}))},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===h.enableTouch&&e.enableTouch(),!0===h.enableDrag&&e.enableDrag()),C(window).on("focus",function(){e.auto()}),C(window).on("blur",function(){clearInterval(r)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),w.init=function(){w.chbreakpoint(),!0===h.vertical?(u=1<h.item?h.verticalHeight:d.outerHeight(),f.css("height",u+"px")):u=f.outerWidth(),!0===h.loop&&"slide"===h.mode&&w.clone(),w.calL(),"slide"===h.mode&&c.removeClass("lSSlide"),"slide"===h.mode&&(w.calSW(),w.sSW()),setTimeout(function(){"slide"===h.mode&&c.addClass("lSSlide")},1e3),h.pager&&w.createPager(),!0===h.adaptiveHeight&&!1===h.vertical&&c.css("height",d.eq(p).outerHeight(!0)),!1===h.adaptiveHeight&&("slide"===h.mode?!1===h.vertical?i.setHeight(c,!1):i.auto():i.setHeight(c,!0)),!0===h.gallery&&i.slideThumb(),"slide"===h.mode&&i.slide(),!1===h.autoWidth?d.length<=h.item?f.find(".lSAction").hide():f.find(".lSAction").show():w.calWidth(!1)<u&&0!==g?f.find(".lSAction").hide():f.find(".lSAction").show()},c.goToPrevSlide=function(){0<p?(h.onBeforePrevSlide.call(this,c,p),p--,c.mode(!1),!0===h.gallery&&i.slideThumb()):!0===h.loop?(h.onBeforePrevSlide.call(this,c,p),"fade"===h.mode&&(p=parseInt((l-1)/h.slideMove)),c.mode(!1),!0===h.gallery&&i.slideThumb()):!0===h.slideEndAnimation&&(c.addClass("leftEnd"),setTimeout(function(){c.removeClass("leftEnd")},400))},c.goToNextSlide=function(){var e=!0;"slide"===h.mode&&(e=i.slideValue()<g-u-h.slideMargin),p*h.slideMove<l-h.slideMove&&e?(h.onBeforeNextSlide.call(this,c,p),p++,c.mode(!1),!0===h.gallery&&i.slideThumb()):!0===h.loop?(h.onBeforeNextSlide.call(this,c,p),p=0,c.mode(!1),!0===h.gallery&&i.slideThumb()):!0===h.slideEndAnimation&&(c.addClass("rightEnd"),setTimeout(function(){c.removeClass("rightEnd")},400))},c.mode=function(e){!0===h.adaptiveHeight&&!1===h.vertical&&c.css("height",d.eq(p).outerHeight(!0)),!1===t&&("slide"===h.mode?i.doCss()&&(c.addClass("lSSlide"),""!==h.speed&&f.css("transition-duration",h.speed+"ms"),""!==h.cssEasing&&f.css("transition-timing-function",h.cssEasing)):i.doCss()&&(""!==h.speed&&c.css("transition-duration",h.speed+"ms"),""!==h.cssEasing&&c.css("transition-timing-function",h.cssEasing))),e||h.onBeforeSlide.call(this,c,p),"slide"===h.mode?i.slide():i.fade(),f.hasClass("ls-hover")||i.auto(),setTimeout(function(){e||h.onAfterSlide.call(this,c,p)},h.speed),t=!0},c.play=function(){c.goToNextSlide(),h.auto=!0,i.auto()},c.pause=function(){h.auto=!1,clearInterval(r)},c.refresh=function(){w.init()},c.getCurrentSlideCount=function(){var e,t,i=p;return h.loop&&(e=f.find(".lslide").length,t=c.find(".clone.left").length,i=p<=t-1?e+(p-t):e+t<=p?p-e-t:p-t),i+1},c.getTotalSlideCount=function(){return f.find(".lslide").length},c.goToSlide=function(e){p=h.loop?e+c.find(".clone.left").length-1:e,c.mode(!1),!0===h.gallery&&i.slideThumb()},c.destroy=function(){c.lightSlider&&(c.goToPrevSlide=function(){},c.goToNextSlide=function(){},c.mode=function(){},c.play=function(){},c.pause=function(){},c.refresh=function(){},c.getCurrentSlideCount=function(){},c.getTotalSlideCount=function(){},c.goToSlide=function(){},c.lightSlider=null,w={init:function(){}},c.parent().parent().find(".lSAction, .lSPager").remove(),c.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),c.children().removeAttr("style"),d.removeClass("lslide active"),c.find(".clone").remove(),r=d=null,t=!1,p=0)},setTimeout(function(){h.onSliderLoad.call(this,c)},10),C(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,w.init()},200)}),this}}(jQuery);